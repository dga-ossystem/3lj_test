(this["webpackJsonp3gl-test"]=this["webpackJsonp3gl-test"]||[]).push([[0],{121:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(0),c=n(9),s=n.n(c),i=n(33),o=n(66),u=n(15),l=n(68),d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,167)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},b=n(21),p={USD:"USD",EUR:"EUR",ILS:"ILS"},j="baseCurr",h="targetCurr",g="LOAD_RATES",C="SWAP_CURRENCIES",O="SET_CHOOSEN_CURRENCIES",f="SET_AMOUNT",m="SET_IS_FETCHING",v=function(e){return{type:g,payload:e}},x=function(e){return{type:C,payload:e}},y=function(e){return{type:O,payload:e}},T=function(e){return{type:f,payload:e}},w=function(e){return{type:m,payload:e}},N=function(e){return function(t,n,r){return t(w(!0)),r.get("latest?base=".concat(e)).then((function(e){setTimeout((function(){t(v(e.data))}),1e3)}))}},S={choosenCurrencies:{amount:"",baseCurr:p.USD,targetCurr:p.EUR},loadedRates:[],isFetching:!1,requestTime:""},E=n(69),R=n.n(E),A=n(159),_=n(160),k=n(161),B=n(162),F=n(76),I=n(152),L=Object(F.a)({palette:{primary:{light:"#6fc4bc",main:"#4CB6AC",dark:"#357f78",contrastText:"#fff"}}}),U=Object(I.a)((function(e){return{pageWrapper:{marginTop:20,width:300},widgetCard:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",alignContent:"flex-start",paddingTop:e.spacing(2),paddingBottom:e.spacing(2),paddingLeft:e.spacing(3),paddingRight:e.spacing(3),minHeight:200,background:"#fffcfc",borderTop:"3px solid #000000",borderRadius:0},inputContainer:{marginTop:10,marginBottom:10,width:"100%"},input:{width:"100%"},currContainer:{display:"flex",alignItems:"center",width:"100%"},rotateAnimation:{transform:"rotate(-180deg)",transition:"300ms"},swapBtn:{color:"#4CB6AC"},loader:{width:280,marginTop:-16,marginLeft:-24,marginRight:-24}}})),D=n(163),H=n(166),V=function(e){var t=U(),n=e.values,a=e.currType,c=e.currName,s=e.disabledValue,i=e.onValueChange;return Object(r.jsx)(D.a,{className:t.input,value:c,onChange:i,children:Object.values(n).map((function(e,t){return Object(r.jsx)(H.a,{value:e,disabled:e===s,children:e},"".concat(a,"-").concat(t,"-").concat(e))}))})},W=n(77),P=n(164),q=function(e){var t=e.onAmountChanged,n=U(),c=Object(a.useState)(!0),s=Object(W.a)(c,2),i=s[0],o=s[1],l=Object(u.d)((function(e){return e.choosenCurrencies.amount})),d=Object(u.c)();return Object(r.jsx)(P.a,{error:!i,helperText:!i&&"The number must be greater that 0",className:n.input,label:"Amount",value:l,onChange:function(e){var n=e.target.value.replace(/^0(?=(\d))/,"$&.").replace(/[a-zA-Z\u0430-\u044f\u0410-\u042f]/g,"");o(+n>0),i&&d(T(n)),i&&t()}})},J=n(157),M=n(73),z=n.n(M),G=function(e){var t=U(),n=e.onBtnClick;return Object(r.jsx)(J.a,{"aria-label":"swap",className:t.swapBtn,onClick:function(e){var r;e.preventDefault(),(r=e.currentTarget).classList.add(t.rotateAnimation),setTimeout((function(){r.classList.remove(t.rotateAnimation)}),300),n()},children:Object(r.jsx)(z.a,{})})},Z=n(158),$=function(e){var t=e.choosenCurrencies,n=e.rates[t.targetCurr],a=(t.amount*n).toFixed(2);return Object(r.jsxs)("div",{children:[Object(r.jsx)("hr",{}),Object(r.jsx)(Z.a,{variant:"subtitle1",component:"p",children:"".concat(t.amount," ").concat(t.baseCurr," = ").concat(a," ").concat(t.targetCurr," (").concat(n,")")})]})},K=n(47),Q=n(74),X=n(75),Y=n(52),ee=n(79),te=n(78),ne=function(e){var t=function(t){Object(ee.a)(a,t);var n=Object(te.a)(a);function a(e){var t;return Object(Q.a)(this,a),(t=n.call(this,e))._valueChangeHandler=t._valueChangeHandler.bind(Object(Y.a)(t)),t}return Object(X.a)(a,[{key:"_valueChangeHandler",value:function(e){var t=this.props,n=t.currType,r=t.choosenCurrencies,a=t.setChoosenCurrencies,c=t.loadCurrencies;a(Object.assign({},r,Object(K.a)({},n,e.target.value))),n===j&&c(e.target.value)}},{key:"render",value:function(){var t=this.props,n=t.currType,a=t.choosenCurrencies;return Object(r.jsx)(e,Object(b.a)(Object(b.a)({},this.props),{},{currName:a[n],onValueChange:this._valueChangeHandler}))}}]),a}(a.PureComponent);return Object(u.b)((function(e){return{choosenCurrencies:e.choosenCurrencies}}),(function(e){return{setChoosenCurrencies:function(t){e(y(t))},loadCurrencies:function(t){e(N(t))}}}))(t)}(V),re=function(){var e=U(),t=Object(u.d)((function(e){return e.choosenCurrencies})),n=Object(u.d)((function(e){return e.loadedRates.rates})),a=Object(u.d)((function(e){return e.isFetching})),c=Object(u.d)((function(e){return e.requestTime})),s=Object(u.c)();return Object(r.jsx)(A.a,{theme:L,children:Object(r.jsx)(_.a,{className:e.pageWrapper,children:Object(r.jsxs)(k.a,{className:e.widgetCard,children:[a&&Object(r.jsx)(B.a,{className:e.loader}),Object(r.jsx)("div",{className:e.inputContainer,children:Object(r.jsx)(q,{onAmountChanged:function(){(new Date).getTime()-c>1e4&&s(N(t.baseCurr))}})}),Object(r.jsxs)("div",{className:e.currContainer,children:[Object(r.jsx)("div",{className:e.inputContainer,children:Object(r.jsx)(ne,{values:p,currType:j,disabledValue:t.targetCurr})}),Object(r.jsx)(G,{onBtnClick:function(){s(N(t.targetCurr)),s(x(t))}}),Object(r.jsx)("div",{className:e.inputContainer,children:Object(r.jsx)(ne,{values:p,currType:h,disabledValue:t.baseCurr})})]}),n&&0!==Object.keys(n).length&&!a&&Object(r.jsx)($,{choosenCurrencies:t,rates:n})]})})})},ae=function(){var e=R.a.create({baseURL:"https://api.exchangeratesapi.io/",timeout:5e3});return e.interceptors.response.use((function(e){return e}),(function(e){if(401===e.response.status)throw e;throw e})),e}(),ce=Object(i.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object.assign({},e,{loadedRates:t.payload,isFetching:!1,requestTime:(new Date).getTime()});case C:return Object.assign({},e,{choosenCurrencies:{amount:e.choosenCurrencies.amount,baseCurr:t.payload.targetCurr,targetCurr:t.payload.baseCurr}});case O:return Object.assign({},e,{choosenCurrencies:{amount:t.payload.amount,baseCurr:t.payload.baseCurr,targetCurr:t.payload.targetCurr}});case f:return Object(b.a)(Object(b.a)({},e),{},{choosenCurrencies:Object(b.a)(Object(b.a)({},e.choosenCurrencies),{},{amount:t.payload})});case m:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.payload})}return e}),Object(o.composeWithDevTools)(Object(i.applyMiddleware)(l.a.withExtraArgument(ae))));s.a.render(Object(r.jsx)(u.a,{store:ce,children:Object(r.jsx)(re,{})}),document.getElementById("root")),d()}},[[121,1,2]]]);
//# sourceMappingURL=main.82674fa7.chunk.js.map