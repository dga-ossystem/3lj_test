{"version":3,"sources":["const.js","styles.js","components/app.jsx","api.js","reportWebVitals.js","index.js"],"names":["Currency","theme","createMuiTheme","palette","primary","light","main","dark","contrastText","useStyles","makeStyles","pageWrapper","marginTop","width","widgetCard","display","flexWrap","alignItems","alignContent","paddingTop","spacing","paddingBottom","paddingLeft","paddingRight","minHeight","background","borderTop","borderRadius","inputContainer","marginBottom","input","currContainer","rotateAnimation","transform","transition","swapBtn","color","loader","marginLeft","marginRight","App","classes","useState","baseCurr","setBaseCurr","targetCurr","setTargetCurr","amount","setAmount","rate","setRate","isValid","setIsValid","isFetching","setIsFetching","setRates","data","toFixed","setTimeout","useEffect","callback","api","axios","create","baseURL","timeout","interceptors","response","use","rates","err","status","createAPI","ThemeProvider","Container","className","Card","LinearProgress","TextField","error","helperText","label","value","onChange","event","target","replace","Select","MenuItem","disabled","IconButton","aria-label","onClick","preventDefault","currentTarget","classList","add","remove","Object","keys","length","Typography","variant","component","currency_code","exchange_rate","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e8229c1c.chunk.js","sourcesContent":["export const Currency = {\n    USD: 'USD',\n    EUR: 'EUR',\n    ILS: 'ILS',\n};","import {makeStyles, createMuiTheme} from '@material-ui/core/styles';\n\nexport const theme = createMuiTheme({\n    palette: {\n        primary: {\n            light: '#6fc4bc',\n            main: '#4CB6AC',\n            dark: '#357f78',\n            contrastText: '#fff',\n        },\n    },\n});\n\nexport const useStyles = makeStyles((theme) => ({\n    pageWrapper: {\n        marginTop: 20,\n        width: 300,\n    },\n\n    widgetCard: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        alignItems: 'flex-start',\n        alignContent: 'flex-start',\n        paddingTop: theme.spacing(2),\n        paddingBottom: theme.spacing(2),\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n        minHeight: 300,\n        background: '#fffcfc',\n        borderTop: '3px solid #000000',\n        borderRadius: 0\n    },\n\n    inputContainer: {\n        marginTop: 10,\n        marginBottom: 10,\n    },\n\n    input: {\n        width: '100%'\n    },\n\n    currContainer: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n\n    rotateAnimation: {\n        transform: 'rotate(-180deg)',\n        transition: '300ms'\n    },\n    swapBtn: {\n        color: '#4CB6AC',\n    },\n    loader: {\n        width: 280,\n        marginTop: -16,\n        marginLeft: -24,\n        marginRight: -24,\n    },\n}));","import React, {useEffect, useState} from \"react\";\nimport {ThemeProvider} from '@material-ui/core/styles';\nimport {\n    Container,\n    Card,\n    Select,\n    MenuItem,\n    TextField,\n    IconButton,\n    LinearProgress,\n    Typography,\n} from '@material-ui/core';\nimport SwapIcon from '@material-ui/icons/Cached';\nimport {Currency} from '../const.js';\nimport {useStyles, theme} from '../styles.js';\nimport {createAPI} from \"../api.js\";\n\n\nconst App = () => {\n    const classes = useStyles();\n\n    const [baseCurr, setBaseCurr] = useState(Currency.USD);\n    const [targetCurr, setTargetCurr] = useState(Currency.EUR);\n    const [amount, setAmount] = useState('');\n    const [rate, setRate] = useState({});\n    const [isValid, setIsValid] = useState(true);\n    const [isFetching, setIsFetching] = useState(false);\n\n    const setRates = (data) => {\n        setRate({\n            'exchange_rate': data[targetCurr],\n            'currency_code': targetCurr,\n            'amount': (amount * data[targetCurr]).toFixed(2),\n        });\n\n        setTimeout(() => {setIsFetching(false)}, 1000);\n    };\n\n    useEffect(() => {\n        isValid && createAPI(baseCurr, setRates)();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [baseCurr, targetCurr, amount]);\n\n    const baseCurrChangeHandler = (event) => {\n        setBaseCurr(event.target.value);\n    };\n\n    const targetCurrChangeHandler = (event) => {\n        setTargetCurr(event.target.value);\n    };\n\n    const inputChangeHandler = (event) => {\n        setIsFetching(true);\n        let value = event.target.value.replace(/^0(?=(\\d))/, '$&.').replace(/[a-zA-Zа-яА-Я]/g, '');\n        setAmount(value);\n        setIsValid(+value > 0);\n    };\n\n    const swapCurrencies = () => {\n        setBaseCurr(targetCurr);\n        setTargetCurr(baseCurr);\n    };\n\n    const animateSwapping = (target) => {\n        target.classList.add(classes.rotateAnimation);\n\n        setTimeout(() => {\n            target.classList.remove(classes.rotateAnimation);\n        }, 300);\n    };\n\n    return (\n        <ThemeProvider theme={theme}>\n        <Container className={classes.pageWrapper}>\n\n            <Card className={classes.widgetCard}>\n                {isFetching && <LinearProgress className={classes.loader} />}\n\n\n                <div className={classes.inputContainer}>\n                    <TextField\n                        error={!isValid}\n                        helperText={!isValid && 'The number must be greater that 0'}\n                        className={classes.input}\n                        label='Amount'\n                        value={amount}\n                        onChange={inputChangeHandler}\n                    />\n                </div>\n\n                <div className={classes.currContainer}>\n                    <div className={classes.inputContainer}>\n                        <Select\n                            className={classes.input}\n                            value={baseCurr}\n                            onChange={baseCurrChangeHandler}\n                        >\n                            <MenuItem\n                                value={Currency.EUR}\n                                disabled={Currency.EUR === targetCurr}\n                            >\n                                {Currency.EUR}\n                            </MenuItem>\n                            <MenuItem\n                                value={Currency.USD}\n                                disabled={Currency.USD === targetCurr}\n                            >\n                                {Currency.USD}\n                            </MenuItem>\n                            <MenuItem\n                                value={Currency.ILS}\n                                disabled={Currency.ILS === targetCurr}\n                            >\n                                {Currency.ILS}\n                            </MenuItem>\n                        </Select>\n                    </div>\n\n                    <IconButton\n                        aria-label=\"swap\"\n                        className={classes.swapBtn}\n                        onClick={(event) => {\n                            event.preventDefault();\n                            animateSwapping(event.currentTarget);\n                            swapCurrencies();\n                        }}\n                    >\n                        <SwapIcon/>\n                    </IconButton>\n\n                    <div className={classes.inputContainer}>\n                        <Select\n                            className={classes.input}\n                            value={targetCurr}\n                            onChange={targetCurrChangeHandler}\n                        >\n                            <MenuItem\n                                value={Currency.EUR}\n                                disabled={Currency.EUR === baseCurr}\n                            >\n                                {Currency.EUR}\n                            </MenuItem>\n                            <MenuItem\n                                value={Currency.USD}\n                                disabled={Currency.USD === baseCurr}\n                            >\n                                {Currency.USD}\n                            </MenuItem>\n                            <MenuItem\n                                value={Currency.ILS}\n                                disabled={Currency.ILS === baseCurr}\n                            >\n                                {Currency.ILS}\n                            </MenuItem>\n                        </Select>\n                    </div>\n                </div>\n\n                {\n                    (Object.keys(rate).length !== 0 && isValid && amount !== '' && !isFetching) && (\n                        <div>\n                            <hr/>\n                            <Typography variant=\"subtitle1\" component=\"p\">\n                                {`${amount} ${baseCurr} = ${rate.amount} ${rate.currency_code} (${rate.exchange_rate})`}\n                            </Typography>\n                        </div>\n                    )\n                }\n\n            </Card>\n        </Container>\n        </ThemeProvider>\n    );\n};\n\nexport default App;\n","import axios from \"axios\";\n\nexport const createAPI = (baseCurr, callback) => {\n    const api = axios.create({\n        baseURL: `https://api.exchangeratesapi.io/latest?base=${baseCurr}`,\n        timeout: 5000,\n    });\n\n    const onSuccess = (response) => {\n        callback(response.data.rates);\n        return response.data;\n    };\n\n    const onFail = (err) => {\n        const {response} = err;\n\n        if (response.status === 401) {\n            throw err;\n        }\n\n        throw err;\n    };\n\n    api.interceptors.response.use(onSuccess, onFail);\n\n    return api;\n};\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app.jsx';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}